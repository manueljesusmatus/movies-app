<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Movie Stream</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" type="text/css" media="all" th:href="@{/styles/css/main.css}" href="/styles/css/main.css">
    <link href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIwIiBoZWlnaHQ9IjEyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0wIDBoMTIwdjEyMEgweiIvPjxwYXRoIGQ9Ik02MCAwYzMzLjEzNyAwIDYwIDI2Ljg2MyA2MCA2MHMtMjYuODYzIDYwLTYwIDYwUzAgOTMuMTM3IDAgNjAgMjYuODYzIDAgNjAgMHptMTcuNSA2NC44MzdjLTYuNDU2IDAtMTEuODIyIDQuNTAyLTEzLjIyMiAxMC41MTYtMy4yNjctMS4zOTctNi4zLTEuMDA5LTguNTU2LS4wMzlDNTQuMjgzIDY5LjMgNDguOTE3IDY0LjgzNyA0Mi41IDY0LjgzN2MtNy41MDYgMC0xMy42MTEgNi4wOTItMTMuNjExIDEzLjU4MkMyOC44ODkgODUuOTA4IDM0Ljk5NCA5MiA0Mi41IDkyYzcuMTU2IDAgMTIuOTUtNS41MSAxMy40OTQtMTIuNDk1IDEuMTY3LS44MTUgNC4yNC0yLjMyOCA4LjAxMi4wNzhDNjQuNjI4IDg2LjUyOSA3MC4zODMgOTIgNzcuNSA5MmM3LjUwNiAwIDEzLjYxMS02LjA5MiAxMy42MTEtMTMuNTgxIDAtNy40OS02LjEwNS0xMy41ODItMTMuNjExLTEzLjU4MnptLTM1IDMuODhjNS4zNjcgMCA5LjcyMiA0LjM0NyA5LjcyMiA5LjcwMiAwIDUuMzU1LTQuMzU1IDkuNy05LjcyMiA5LjctNS4zNjcgMC05LjcyMi00LjM0NS05LjcyMi05LjcgMC01LjM1NSA0LjM1NS05LjcwMSA5LjcyMi05LjcwMXptMzUgMGM1LjM2NyAwIDkuNzIyIDQuMzQ3IDkuNzIyIDkuNzAyIDAgNS4zNTUtNC4zNTUgOS43LTkuNzIyIDkuNy01LjM2NyAwLTkuNzIyLTQuMzQ1LTkuNzIyLTkuNyAwLTUuMzU1IDQuMzU1LTkuNzAxIDkuNzIyLTkuNzAxek05NSA1N0gyNXY0aDcwdi00ek03Mi44NzQgMjkuMzRjLS44LTEuODItMi44NjYtMi43OC00Ljc4NS0yLjE0M0w2MCAyOS45MTRsLTguMTI4LTIuNzE3LS4xOTItLjA1OGMtMS45MjgtLjUzMy0zLjk1NC41MS00LjY2OSAyLjM4N0wzOC4xNDQgNTNoNDMuNzEyTDcyLjk1IDI5LjUyNnoiIGZpbGw9IiNEQURDRTAiLz48L2c+PC9zdmc+" rel="shortcut icon" type="image/x-icon">
</head>
<body class="bg-gray-950 text-white h-screen overflow-hidden">

<nav th:replace="(~{fragments/navbar :: navbar})"></nav>
<div class="flex relative overflow-hidden h-full">

    <!-- Sidebar Left -->
    <aside class="bg-[#1f1f23] w-[340px] overflow-hidden scrollable-content p-2">
        <div th:replace="(~{fragments/sidebar-movies ::
            sidebar-content(title='PELÍCULAS QUE SIGO',
            movies=${moviesFollowed})})">
        </div>

        <div th:replace="(~{fragments/sidebar-movies ::
            sidebar-content(title='PELÍCULAS DISPONIBLES',
            movies=${moviesAvailable})})">
        </div>

        <div th:replace="(~{fragments/sidebar-movies ::
            sidebar-content(
                title='LOS ESPECTADORES DE ' + ${movie.id} + ' TAMBIÉN VEN',
                movies=${moviesRecommended})})">
        </div>
    </aside>

    <!-- Maincard -->
    <main class="flex flex-col w-full h-full relative overflow-auto" style="scrollbar-width: none">
        <div class="w-full" style="height: calc(100vh - 170px)">
            <iframe th:src="@{https://www.youtube.com/embed/dQw4w9WgXcQ}" class="w-full rounded" style="height: calc(100vh - 170px)" allowfullscreen></iframe>
        </div>
        <div class="bg-gray-950 w-full">
            <div class="flex flex-row w-full m-4">
                <img class="rounded-lg w-32 h-fit mr-2" th:src="${movie.image}" alt="movie image">
                <section class="flex flex-col justify-center w-full">
                    <p>
                        <span th:each="actor : ${movie.cast}" th:text="${actor}"
                              class="inline-block bg-slate-800 font-600 text-slate-300 rounded-full px-2 py-1 text-sm mr-2 font-bold"></span>
                    </p>
                    <h1 class="text-md font-bold w-3/4 whitespace-nowrap overflow-hidden text-ellipsis" th:text="${movie.title}"></h1>
                    <p class="justify-center">
                        <span class="text-sm text-gray-400" th:text="${movie.date}">
                        </span>
                        <span th:each="genre : ${movie.genres}" th:text="${genre}"
                              class="inline-block bg-slate-800 font-600 text-slate-300 rounded-full px-2 py-1 text-sm mr-2 font-bold"></span>
                    </p>
                </section>
            </div>
            <div class="bg-[#1f1f23] flex flex-col relative w-full m-4 gap-2 p-2 rounded-md">
                <p><strong>Studio:</strong> <span th:text="${movie.studio}"></span></p>
                <p><strong>Duration:</strong> <span th:text="${movie.duration}"></span></p>
                <p><strong>Director:</strong> <span th:text="${movie.director}"></span></p>
            </div>
        </div>
    </main>
    <!-- Sidebar Right -->
    <!--<aside th:replace="fragments/chat :: chat"></aside>-->
</div>
</body>
</html>